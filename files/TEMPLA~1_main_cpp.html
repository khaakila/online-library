<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>TEMPLA~1_main_cpp.html</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<meta name="generator" content="SynEdit HTML exporter" />
<style type="text/css">
<!--
body { color: #000000; background-color: #FFFFFF; }
.cpp1-assembler { color: #0000FF; }
.cpp1-character { color: #000000; }
.cpp1-comment { color: #0078D7; font-style: italic; }
.cpp1-float { color: #800080; }
.cpp1-hexadecimal { color: #800080; }
.cpp1-identifier { color: #000000; }
.cpp1-illegalchar { color: #000000; }
.cpp1-number { color: #800080; }
.cpp1-octal { color: #800080; }
.cpp1-preprocessor { color: #008000; }
.cpp1-reservedword { color: #000000; font-weight: bold; }
.cpp1-space { background-color: #FFFFFF; color: #000000; }
.cpp1-string { color: #FF0000; }
.cpp1-symbol { color: #000000; }
-->
</style>
</head>
<body>
<pre>
<code><span style="font: 10pt Courier New;"><span class="cpp1-preprocessor">#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;algorithm&gt;
#include &lt;string&gt;
</span><span class="cpp1-comment">// Book class
</span><span class="cpp1-reservedword">class</span><span class="cpp1-space"> Book {
</span><span class="cpp1-reservedword">private</span><span class="cpp1-symbol">:
    std::string title;
    std::string author;
    std::string ISBN;
    </span><span class="cpp1-reservedword">bool</span><span class="cpp1-space"> isBorrowed;

</span><span class="cpp1-reservedword">public</span><span class="cpp1-symbol">:
    Book(</span><span class="cpp1-reservedword">const</span><span class="cpp1-space"> std::string&amp; title, </span><span class="cpp1-reservedword">const</span><span class="cpp1-space"> std::string&amp; author, </span><span class="cpp1-reservedword">const</span><span class="cpp1-space"> std::string&amp; ISBN)
        : title(title), author(author), ISBN(ISBN), isBorrowed(</span><span class="cpp1-reservedword">false</span><span class="cpp1-symbol">) {}

    std::string getTitle() </span><span class="cpp1-reservedword">const</span><span class="cpp1-space"> { </span><span class="cpp1-reservedword">return</span><span class="cpp1-space"> title; }
    std::string getAuthor() </span><span class="cpp1-reservedword">const</span><span class="cpp1-space"> { </span><span class="cpp1-reservedword">return</span><span class="cpp1-space"> author; }
    std::string getISBN() </span><span class="cpp1-reservedword">const</span><span class="cpp1-space"> { </span><span class="cpp1-reservedword">return</span><span class="cpp1-space"> ISBN; }
    </span><span class="cpp1-reservedword">bool</span><span class="cpp1-space"> getIsBorrowed() </span><span class="cpp1-reservedword">const</span><span class="cpp1-space"> { </span><span class="cpp1-reservedword">return</span><span class="cpp1-space"> isBorrowed; }

    </span><span class="cpp1-reservedword">void</span><span class="cpp1-space"> borrowBook() { isBorrowed = </span><span class="cpp1-reservedword">true</span><span class="cpp1-symbol">; }
    </span><span class="cpp1-reservedword">void</span><span class="cpp1-space"> returnBook() { isBorrowed = </span><span class="cpp1-reservedword">false</span><span class="cpp1-symbol">; }

    </span><span class="cpp1-reservedword">bool</span><span class="cpp1-space"> </span><span class="cpp1-reservedword">operator</span><span class="cpp1-symbol">==(</span><span class="cpp1-reservedword">const</span><span class="cpp1-space"> Book&amp; other) </span><span class="cpp1-reservedword">const</span><span class="cpp1-space"> { </span><span class="cpp1-reservedword">return</span><span class="cpp1-space"> ISBN == other.ISBN; }
};
</span><span class="cpp1-comment">// User class
</span><span class="cpp1-reservedword">class</span><span class="cpp1-space"> User {
</span><span class="cpp1-reservedword">private</span><span class="cpp1-symbol">:
    std::string userID;
    std::string name;
    std::vector&lt;Book&gt; borrowedBooks;

</span><span class="cpp1-reservedword">public</span><span class="cpp1-symbol">:
    User(</span><span class="cpp1-reservedword">const</span><span class="cpp1-space"> std::string&amp; userID, </span><span class="cpp1-reservedword">const</span><span class="cpp1-space"> std::string&amp; name) : userID(userID), name(name) {}

    std::string getUserID() </span><span class="cpp1-reservedword">const</span><span class="cpp1-space"> { </span><span class="cpp1-reservedword">return</span><span class="cpp1-space"> userID; }
    std::string getName() </span><span class="cpp1-reservedword">const</span><span class="cpp1-space"> { </span><span class="cpp1-reservedword">return</span><span class="cpp1-space"> name; }
    std::vector&lt;Book&gt; getBorrowedBooks() </span><span class="cpp1-reservedword">const</span><span class="cpp1-space"> { </span><span class="cpp1-reservedword">return</span><span class="cpp1-space"> borrowedBooks; }

    </span><span class="cpp1-reservedword">void</span><span class="cpp1-space"> borrowBook(Book&amp; book) {
        book.borrowBook();
        borrowedBooks.push_back(book);
    }

    </span><span class="cpp1-reservedword">void</span><span class="cpp1-space"> returnBook(Book&amp; book) {
        book.returnBook();
        borrowedBooks.erase(std::remove(borrowedBooks.begin(), borrowedBooks.end(), book), borrowedBooks.end());
    }
};
</span><span class="cpp1-comment">// Library class
</span><span class="cpp1-reservedword">class</span><span class="cpp1-space"> Library {
</span><span class="cpp1-reservedword">private</span><span class="cpp1-symbol">:
    std::vector&lt;Book&gt; books;
    std::vector&lt;User&gt; users;

</span><span class="cpp1-reservedword">public</span><span class="cpp1-symbol">:
    </span><span class="cpp1-reservedword">void</span><span class="cpp1-space"> addBook(</span><span class="cpp1-reservedword">const</span><span class="cpp1-space"> Book&amp; book) {
        books.push_back(book);
    }

    </span><span class="cpp1-reservedword">void</span><span class="cpp1-space"> removeBook(</span><span class="cpp1-reservedword">const</span><span class="cpp1-space"> std::string&amp; ISBN) {
        books.erase(std::remove_if(books.begin(), books.end(), [&amp;](Book&amp; b) { </span><span class="cpp1-reservedword">return</span><span class="cpp1-space"> b.getISBN() == ISBN; }), books.end());
    }

    Book* searchBookByTitle(</span><span class="cpp1-reservedword">const</span><span class="cpp1-space"> std::string&amp; title) {
        </span><span class="cpp1-reservedword">for</span><span class="cpp1-space"> (</span><span class="cpp1-reservedword">auto</span><span class="cpp1-symbol">&amp; book : books) {
            </span><span class="cpp1-reservedword">if</span><span class="cpp1-space"> (book.getTitle() == title) {
                </span><span class="cpp1-reservedword">return</span><span class="cpp1-space"> &amp;book;
            }
        }
        </span><span class="cpp1-reservedword">return</span><span class="cpp1-space"> nullptr;
    }

    Book* searchBookByAuthor(</span><span class="cpp1-reservedword">const</span><span class="cpp1-space"> std::string&amp; author) {
        </span><span class="cpp1-reservedword">for</span><span class="cpp1-space"> (</span><span class="cpp1-reservedword">auto</span><span class="cpp1-symbol">&amp; book : books) {
            </span><span class="cpp1-reservedword">if</span><span class="cpp1-space"> (book.getAuthor() == author) {
                </span><span class="cpp1-reservedword">return</span><span class="cpp1-space"> &amp;book;
            }
        }
        </span><span class="cpp1-reservedword">return</span><span class="cpp1-space"> nullptr;
    }

    Book* searchBookByISBN(</span><span class="cpp1-reservedword">const</span><span class="cpp1-space"> std::string&amp; ISBN) {
        </span><span class="cpp1-reservedword">for</span><span class="cpp1-space"> (</span><span class="cpp1-reservedword">auto</span><span class="cpp1-symbol">&amp; book : books) {
            </span><span class="cpp1-reservedword">if</span><span class="cpp1-space"> (book.getISBN() == ISBN) {
                </span><span class="cpp1-reservedword">return</span><span class="cpp1-space"> &amp;book;
            }
        }
        </span><span class="cpp1-reservedword">return</span><span class="cpp1-space"> nullptr;
    }

    </span><span class="cpp1-reservedword">void</span><span class="cpp1-space"> addUser(</span><span class="cpp1-reservedword">const</span><span class="cpp1-space"> User&amp; user) {
        users.push_back(user);
    }

    </span><span class="cpp1-reservedword">void</span><span class="cpp1-space"> removeUser(</span><span class="cpp1-reservedword">const</span><span class="cpp1-space"> std::string&amp; userID) {
        users.erase(std::remove_if(users.begin(), users.end(), [&amp;](User&amp; u) { </span><span class="cpp1-reservedword">return</span><span class="cpp1-space"> u.getUserID() == userID; }), users.end());
    }

    User* getUser(</span><span class="cpp1-reservedword">const</span><span class="cpp1-space"> std::string&amp; userID) {
        </span><span class="cpp1-reservedword">for</span><span class="cpp1-space"> (</span><span class="cpp1-reservedword">auto</span><span class="cpp1-symbol">&amp; user : users) {
            </span><span class="cpp1-reservedword">if</span><span class="cpp1-space"> (user.getUserID() == userID) {
                </span><span class="cpp1-reservedword">return</span><span class="cpp1-space"> &amp;user;
            }
        }
        </span><span class="cpp1-reservedword">return</span><span class="cpp1-space"> nullptr;
    }
};

</span><span class="cpp1-comment">// Test functions
</span><span class="cpp1-reservedword">void</span><span class="cpp1-space"> testAddAndRemoveBook() {
    Library library;
    Book book1(</span><span class="cpp1-string">&quot;Book Title 1&quot;</span><span class="cpp1-symbol">, </span><span class="cpp1-string">&quot;Author 1&quot;</span><span class="cpp1-symbol">, </span><span class="cpp1-string">&quot;ISBN001&quot;</span><span class="cpp1-symbol">);
    library.addBook(book1);

    Book* foundBook = library.searchBookByISBN(</span><span class="cpp1-string">&quot;ISBN001&quot;</span><span class="cpp1-symbol">);
    </span><span class="cpp1-reservedword">if</span><span class="cpp1-space"> (foundBook != nullptr &amp;&amp; foundBook-&gt;getTitle() == </span><span class="cpp1-string">&quot;Book Title 1&quot;</span><span class="cpp1-symbol">) {
        std::cout &lt;&lt; </span><span class="cpp1-string">&quot;Test addBook: Passed\n&quot;</span><span class="cpp1-symbol">;
    } </span><span class="cpp1-reservedword">else</span><span class="cpp1-space"> {
        std::cout &lt;&lt; </span><span class="cpp1-string">&quot;Test addBook: Failed\n&quot;</span><span class="cpp1-symbol">;
    }

    library.removeBook(</span><span class="cpp1-string">&quot;ISBN001&quot;</span><span class="cpp1-symbol">);
    foundBook = library.searchBookByISBN(</span><span class="cpp1-string">&quot;ISBN001&quot;</span><span class="cpp1-symbol">);
    </span><span class="cpp1-reservedword">if</span><span class="cpp1-space"> (foundBook == nullptr) {
        std::cout &lt;&lt; </span><span class="cpp1-string">&quot;Test removeBook: Passed\n&quot;</span><span class="cpp1-symbol">;
    } </span><span class="cpp1-reservedword">else</span><span class="cpp1-space"> {
        std::cout &lt;&lt; </span><span class="cpp1-string">&quot;Test removeBook: Failed\n&quot;</span><span class="cpp1-symbol">;
    }
}

</span><span class="cpp1-reservedword">void</span><span class="cpp1-space"> testSearchBook() {
    Library library;
    Book book1(</span><span class="cpp1-string">&quot;Book Title 1&quot;</span><span class="cpp1-symbol">, </span><span class="cpp1-string">&quot;Author 1&quot;</span><span class="cpp1-symbol">, </span><span class="cpp1-string">&quot;ISBN001&quot;</span><span class="cpp1-symbol">);
    Book book2(</span><span class="cpp1-string">&quot;Book Title 2&quot;</span><span class="cpp1-symbol">, </span><span class="cpp1-string">&quot;Author 2&quot;</span><span class="cpp1-symbol">, </span><span class="cpp1-string">&quot;ISBN002&quot;</span><span class="cpp1-symbol">);
    library.addBook(book1);
    library.addBook(book2);

    Book* foundBook = library.searchBookByTitle(</span><span class="cpp1-string">&quot;Book Title 2&quot;</span><span class="cpp1-symbol">);
    </span><span class="cpp1-reservedword">if</span><span class="cpp1-space"> (foundBook != nullptr &amp;&amp; foundBook-&gt;getAuthor() == </span><span class="cpp1-string">&quot;Author 2&quot;</span><span class="cpp1-symbol">) {
        std::cout &lt;&lt; </span><span class="cpp1-string">&quot;Test searchBookByTitle: Passed\n&quot;</span><span class="cpp1-symbol">;
    } </span><span class="cpp1-reservedword">else</span><span class="cpp1-space"> {
        std::cout &lt;&lt; </span><span class="cpp1-string">&quot;Test searchBookByTitle: Failed\n&quot;</span><span class="cpp1-symbol">;
    }

    foundBook = library.searchBookByAuthor(</span><span class="cpp1-string">&quot;Author 1&quot;</span><span class="cpp1-symbol">);
    </span><span class="cpp1-reservedword">if</span><span class="cpp1-space"> (foundBook != nullptr &amp;&amp; foundBook-&gt;getTitle() == </span><span class="cpp1-string">&quot;Book Title 1&quot;</span><span class="cpp1-symbol">) {
        std::cout &lt;&lt; </span><span class="cpp1-string">&quot;Test searchBookByAuthor: Passed\n&quot;</span><span class="cpp1-symbol">;
    } </span><span class="cpp1-reservedword">else</span><span class="cpp1-space"> {
        std::cout &lt;&lt; </span><span class="cpp1-string">&quot;Test searchBookByAuthor: Failed\n&quot;</span><span class="cpp1-symbol">;
    }

    foundBook = library.searchBookByISBN(</span><span class="cpp1-string">&quot;ISBN001&quot;</span><span class="cpp1-symbol">);
    </span><span class="cpp1-reservedword">if</span><span class="cpp1-space"> (foundBook != nullptr &amp;&amp; foundBook-&gt;getTitle() == </span><span class="cpp1-string">&quot;Book Title 1&quot;</span><span class="cpp1-symbol">) {
        std::cout &lt;&lt; </span><span class="cpp1-string">&quot;Test searchBookByISBN: Passed\n&quot;</span><span class="cpp1-symbol">;
    } </span><span class="cpp1-reservedword">else</span><span class="cpp1-space"> {
        std::cout &lt;&lt; </span><span class="cpp1-string">&quot;Test searchBookByISBN: Failed\n&quot;</span><span class="cpp1-symbol">;
    }
}

</span><span class="cpp1-reservedword">void</span><span class="cpp1-space"> testUserManagement() {
    Library library;
    User user1(</span><span class="cpp1-string">&quot;user1&quot;</span><span class="cpp1-symbol">, </span><span class="cpp1-string">&quot;User One&quot;</span><span class="cpp1-symbol">);
    library.addUser(user1);

    User* foundUser = library.getUser(</span><span class="cpp1-string">&quot;user1&quot;</span><span class="cpp1-symbol">);
    </span><span class="cpp1-reservedword">if</span><span class="cpp1-space"> (foundUser != nullptr &amp;&amp; foundUser-&gt;getName() == </span><span class="cpp1-string">&quot;User One&quot;</span><span class="cpp1-symbol">) {
        std::cout &lt;&lt; </span><span class="cpp1-string">&quot;Test addUser: Passed\n&quot;</span><span class="cpp1-symbol">;
    } </span><span class="cpp1-reservedword">else</span><span class="cpp1-space"> {
        std::cout &lt;&lt; </span><span class="cpp1-string">&quot;Test addUser: Failed\n&quot;</span><span class="cpp1-symbol">;
    }

    library.removeUser(</span><span class="cpp1-string">&quot;user1&quot;</span><span class="cpp1-symbol">);
    foundUser = library.getUser(</span><span class="cpp1-string">&quot;user1&quot;</span><span class="cpp1-symbol">);
    </span><span class="cpp1-reservedword">if</span><span class="cpp1-space"> (foundUser == nullptr) {
        std::cout &lt;&lt; </span><span class="cpp1-string">&quot;Test removeUser: Passed\n&quot;</span><span class="cpp1-symbol">;
    } </span><span class="cpp1-reservedword">else</span><span class="cpp1-space"> {
        std::cout &lt;&lt; </span><span class="cpp1-string">&quot;Test removeUser: Failed\n&quot;</span><span class="cpp1-symbol">;
    }
}

</span><span class="cpp1-reservedword">void</span><span class="cpp1-space"> testBorrowAndReturnBook() {
    Library library;
    Book book1(</span><span class="cpp1-string">&quot;Book Title 1&quot;</span><span class="cpp1-symbol">, </span><span class="cpp1-string">&quot;Author 1&quot;</span><span class="cpp1-symbol">, </span><span class="cpp1-string">&quot;ISBN001&quot;</span><span class="cpp1-symbol">);
    library.addBook(book1);

    User user1(</span><span class="cpp1-string">&quot;user1&quot;</span><span class="cpp1-symbol">, </span><span class="cpp1-string">&quot;User One&quot;</span><span class="cpp1-symbol">);
    library.addUser(user1);

    User* foundUser = library.getUser(</span><span class="cpp1-string">&quot;user1&quot;</span><span class="cpp1-symbol">);
    Book* foundBook = library.searchBookByISBN(</span><span class="cpp1-string">&quot;ISBN001&quot;</span><span class="cpp1-symbol">);

    foundUser-&gt;borrowBook(*foundBook);
    </span><span class="cpp1-reservedword">if</span><span class="cpp1-space"> (foundBook-&gt;getIsBorrowed() &amp;&amp; !foundUser-&gt;getBorrowedBooks().empty()) {
        std::cout &lt;&lt; </span><span class="cpp1-string">&quot;Test borrowBook: Passed\n&quot;</span><span class="cpp1-symbol">;
    } </span><span class="cpp1-reservedword">else</span><span class="cpp1-space"> {
        std::cout &lt;&lt; </span><span class="cpp1-string">&quot;Test borrowBook: Failed\n&quot;</span><span class="cpp1-symbol">;
    }

    foundUser-&gt;returnBook(*foundBook);
    </span><span class="cpp1-reservedword">if</span><span class="cpp1-space"> (!foundBook-&gt;getIsBorrowed() &amp;&amp; foundUser-&gt;getBorrowedBooks().empty()) {
        std::cout &lt;&lt; </span><span class="cpp1-string">&quot;Test returnBook: Passed\n&quot;</span><span class="cpp1-symbol">;
    } </span><span class="cpp1-reservedword">else</span><span class="cpp1-space"> {
        std::cout &lt;&lt; </span><span class="cpp1-string">&quot;Test returnBook: Failed\n&quot;</span><span class="cpp1-symbol">;
    }
}

</span><span class="cpp1-reservedword">int</span><span class="cpp1-space"> main() {
    testAddAndRemoveBook();
    testSearchBook();
    testUserManagement();
    testBorrowAndReturnBook();
    </span><span class="cpp1-reservedword">return</span><span class="cpp1-space"> </span><span class="cpp1-number">0</span><span class="cpp1-symbol">;
}
</span></span>
</code></pre>
</body>
</html>